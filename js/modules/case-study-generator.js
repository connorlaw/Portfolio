class CaseStudyGenerator {
  constructor() {
    this.preFillOptions = {
      'techscheme': {
        'meta_title': 'Techscheme',
        'meta_description': 'Read this case study by Connor Law, the main designer and developer behind the refreshed website for Techscheme. Learn about the collaborative process and skills involved in creating high-fidelity mockups and hand-coding the entire site using HTML, CSS, and JavaScript. Discover how the new design is visually appealing, user-friendly, intuitive, and optimised for different devices.',
        'image': 'ts-mockup',
        'image_extension': '.webp',
        'title_1': 'Full refreshed website for',
        'title_2': 'the UK\'s leading tech scheme',
        'details': 'End-to-end redesign & modernisation for <a class="link" href="https://techscheme.co.uk" target="_blank">Techscheme</a>.',
        'skills': ['UI/UX', 'HTML', 'CSS', 'JavaScript'],
        'tools': ['Adobe-XD', 'Github', 'Sass', 'CSS', 'Webpack', 'JavaScript', 'Notion', 'Photoshop', 'HTML'],
        'testimonial': 'gio',
        'intro': `As lead designer and developer of the project, my goal was to redesign and modernise the existing <a class="link" href="https://techscheme.co.uk" target="_blank">Techscheme</a> website using client-supplied wireframes, as well as create all pages using raw HTML, CSS, and JavaScript for a fully functioning, interactive website. It was crucial to create a design and final product that was not only visually appealing but also user-friendly, intuitive, and optimised for different devices.`,
        'solution': `One of the key features of the project was the creation of high-fidelity interactive designs using a collaborative process with the client, which resulted in beautiful new designs incorporating a soft 'rebrand' - typography, iconography, imagery refresh - as well as a smoother, more intuitive user experience. Interactive designs were created and shared via Adobe XD, which were shared with the client to allow us to gather feedback and make necessary revisions until the design was perfect.\n\nOnce the designs were finalised, I began the process of translating them into a fully functioning, hand-coded responsive website using HTML, CSS, and JavaScript. This involved creating all pages from scratch, including adding all the necessary functionalities such as search bars, contact forms, and interactive features. The website had to be fully responsive and tested on various devices to ensure smooth functionality.`,
        'outcome': `Overall, the project was a success, and the client was thrilled with the final product. By utilizing my skills and working closely with the client, I was able to deliver a modern, user-friendly website that met all of their needs and exceeded their expectations.`,
        'case-studies': ['cyclescheme', 'moss-and-co', 'loft-digital']
      },
      'cyclescheme': {
        'meta_title': 'Cyclescheme',
        'meta_description': 'Read on to learn how Connor contributed to development of the Cyclescheme platform, the UK\s leading cycle-to-work scheme provider, for over 3 years. This case study breaks down his involvement, responsibilities and expertise that resulted in consistent high-quality results.',
        'image': 'cs-mockup',
        'image_extension': '.png',
        'title_1': 'Platform development for the',
        'title_2': 'UK\'s leading cycle-to-work provider',
        'details': 'Over 3 years of continuous design and development across many systems and platforms for <a class="link" href="https://www.cyclescheme.co.uk" target="_blank">https://www.cyclescheme.co.uk</a>.',
        'skills': ['UI/UX', 'Angular', 'CSS', 'JavaScript'],
        'tools': ['Adobe-XD', 'Github', 'Webpack', 'Sass', 'CSS', 'JavaScript', 'Photoshop', 'HTML', 'Angular', 'PHP', 'Illustrator'],
        'testimonial': 'laurence',
        'intro': `Over the span of 3 years, I worked alongside the team at <a class="link" href="https://loftdigital.com" target="_blank">Loft Digital</a> to improve, maintain and enhance many of the <a class="link" href="https://cyclescheme.com" target="_blank">Cyclescheme</a> platforms. These platforms include Angular apps to allow them to rent or buy a bike, a back-end system for managing applications and certificates, a public-facing Smarty (PHP) marketing website, and more. My role in the team as designer & developer was to design new features and enhance old ones, as well as implement my own designs at a code level across many systems, languages and processes.`,
        'solution': `As the designer and developer on the Loft Digital team, I was responsible for finding solutions to a wide range of challenges in improving and maintaining the Cyclescheme platforms. One of the main challenges we faced was the need to create a seamless user experience across all of the different systems and processes involved in the platforms.\n\nTo achieve this, I worked closely with the client team to identify pain points and areas for improvement. I then designed and developed new features and enhancements that addressed these issues and streamlined the user experience. This involved working with a variety of languages and technologies, from Angular to Smarty (PHP), as well as managing my work and liaising with the client team to ensure that everyone was on the same page.`,
        'outcome': `Thanks to our efforts, the Cyclescheme platforms saw a significant improvement in user engagement and satisfaction. The new features and enhancements that we designed and developed made it easier for users to rent or buy a bike and manage their applications and certificates.\n\nIn addition to these tangible results, our work also helped to strengthen the relationship between Loft Digital and the Cyclescheme team. By working closely with the client team and providing effective solutions to their challenges, we were able to build trust and establish a strong working relationship.\n\nOverall, my experience working with Loft Digital on the Cyclescheme platforms was a challenging and rewarding one. I learned a great deal about how to design and develop effective solutions in a complex and ever-changing technological landscape, and I am proud to have played a part in improving the user experience for so many people.`,
        'case-studies': ['techscheme', 'myeyesite', 'bicycle-association']
      },
      'brewbabu': {
        'meta_title': 'Brewbabu',
        'meta_description': 'Read this case study to learn how Connor Law was hired to design and develop a brand new website for boutique tea shop Brewbabu. With deep knowledge in UX, Connor worked with the owner of the business to define requirements, plan the site architecture and deliver an informative, user-friendly e-commerce website.',
        'image': 'brew-mockup',
        'image_extension': '.png',
        'title_1': 'Design & development',
        'title_2': 'for Brewbabu',
        'details': 'Design & development of a new website: <a class="link" href="https://brewbabu.com" target="_blank">https://brewbabu.com</a>.',
        'skills': ['UI/UX', 'Squarespace', 'E-commerce'],
        'tools': ['Squarespace', 'CSS', 'JavaScript', 'HTML', 'Illustrator'],
        'testimonial': 'alison',
        'intro': `Brewbabu is a UK-based small business that specialises in selling hand-crafted teas and coffee blends. The company wanted a new website to showcase their products and make it easier for their customers to purchase online, as well as to tie-in with a wider online strategy aimed at spreading their reach to more potential customers. As a freelance web designer, I was hired to design, develop, and manage the project.`,
        'solution': `The first step was to create a design for the website that would meet Brewbabu's needs. I started by creating a wireframe to map out the layout and functionality of the site. Once the wireframe was approved, I moved on to the visual design phase, creating mockups of the site's main pages in Illustrator. I worked closely with the Brewbabu team to ensure that the design met their needs and that it was visually appealing to their target audience.\n\nOnce the design was finalised, I began building the site using <a href="https://www.squarespace.com/" class="link" target="_blank">Squarespace</a>. Squarespace is a CMS that provides an easy-to-use platform for building and hosting websites. I created the site's pages and integrated the e-commerce section of the site, allowing customers to easily browse and purchase produccase-studies/ts. As part of setting up the e-commerce products, I even met with the team and assisted with the photography to ensure products were displayed in the most visually appealing and web-accessible way possible.\n\nOne of the challenges of the development phase was ensuring that the site was optimised for mobile devices. As more and more people browse the internet on their phones and tablets, it's important that websites are mobile-friendly. I made sure that the site was responsive and that it looked great on any device.\n\nAfter the site was built and launched, I provided training for the Brewbabu team so that they could manage the site themselves. I walked them through the Squarespace CMS and showed them how to update the site's content, add new products, and process orders. I also provided ongoing support to ensure that the site continued to run smoothly.`,
        'outcome': `Overall, the project was a success. The new website has improved Brewbabu's online presence and has made it easier for their customers to purchase their produccase-studies/ts. The use of Squarespace as a CMS allowed for an efficient development process, and the training provided ensured that the Brewbabu team was able to manage the site themselves.`,
        'case-studies': ['myeyesite', 'moss-and-co', 'loft-digital']
      },
      'myeyesite': {
        'meta_title': 'MyEyeSite',
        'meta_description': 'This case study serves to breakdown the MyEyeSite project and Connor\'s involvement, from scoping and design of new features to expert Angular development. The resulting web app has won many awards and continues to be a unique product in the world of rare disease.',
        'image': 'mes-mockup',
        'image_extension': '.png',
        'title_1': 'Web app built to empower',
        'title_2': 'rare eye disease patients',
        'details': 'A web app for empowering patients with rare eye diseases: <a class="link" href="https://www.myeyesite.health" target="_blank">myeyesite.health</a>.',
        'skills': ['Angular', 'UI/UX', 'Mobile', 'TypeScript'],
        'tools': ['Sass', 'HTML', 'Angular', 'Illustrator', 'CSS', 'Adobe-XD', 'Github', 'Webpack', 'JavaScript'],
        'testimonial': 'nick',
        'intro': `As a designer and developer on the <a class="link" href="https://www.myeyesite.health" target="_blank">MyEyeSite</a> project, I was part of a research and development collaboration with <a class="link" href="https://www.moorfields.nhs.uk/" target="_blank">Moorfields Eye Hospital</a>, <a class="link" href="https://www.ucl.ac.uk/" target="_blank">UCL</a> and my colleagues at <a class="link" href="https://loftdigital.com" target="_blank">Loft Digital</a> aimed at accelerating rare disease research and improving healthcare.\n\nOur challenge was to find a new approach that could empower patients to collect and share their specialist rare disease data, which is essential for scientists to develop precision genetic therapies for people with rare diseases. The challenge was that this data was difficult to collect as it had been generated in different clinical and community settings over the course of a patient's lifetime and was not linked. In addition, there was no system in place for rare disease doctors to see a full copy of a patient's clinical biography ahead of an appointment.\n\nMyEyeSite was developed to address these problems by providing a platform for patients to collect, link, and share their specialist rare disease data in a secure, systematic, and structured way.`,
        'solution': `Our team engaged patients, doctors, and researchers as collaborators to design and develop the MyEyeSite application. They carried out extensive user research and collaborative design sprints, held public patient days to garner wider input, and worked with the RNIB to ensure accessibility. They also spoke at many events and engaged with pharmaceutical companies to explore commercial interest.\n\nThe MyEyeSite application was designed to consist of a platform with interfaces (web or mobile) for patients to scan and manage their specialist medical and genetic data on a timeline, and to share this data with doctors, research studies, family, and friends in a secure, systematic, and structured way. We also developed an interface for doctors to review data shared with them in this way.`,
        'outcome': `The MyEyeSite project has received several awards and recognition, including an <a class="link" href="https://www.ucl.ac.uk/ioo/news/2021/jun/ioo-day-2021-lecture-and-awards" target="_blank">IoO Public and Patient Involvement & Engagement Award in 2021</a>, an Innovate UK funding award winner in 2020, and an HDRUK funding award winner in 2019. We also published a paper in the Journal of Medical Internet Research (JMIR) and presented at the ARVO 2021 conference. Short films about MyEyeSite were made by NIHR Moorfields BRC, and there were podcasts and films to introduce and explain the application.\n\nThe MyEyeSite application is available at <a class="link" href="https://www.myeyesite.health" target="_blank">www.myeyesite.health</a>, and it is expected to revolutionise the way patients with rare diseases share their data with doctors and researchers to accelerate their work. I am proud to have been part of a project that could potentially change the lives of millions of people globally, and I am excited to see its impact in the coming years.`,
        'case-studies': ['techscheme', 'loft-digital', 'bicycle-association']
      },
      'bicycle-association': {
        'meta_title': 'Bicycle Association',
        'meta_description': 'Within this case study, you\'ll learn how Connor Law worked as part of a team to continuously enhance and maintain the Bicycle Association website over the course of 3.5 years. You will read about how Connor\s extensive knowledge and experience was utilised to scope, define, design and build new features to a consistent high standard, making him a "favourite among clients".',
        'image': 'ba-mockup',
        'image_extension': '.png',
        'title_1': 'Continuous design and development',
        'title_2': 'for the leading UK cycling body',
        'details': 'Over 3 years of continuous design and development improvements for the <a class="link" href="https://www.bicycleassociation.org.uk/" target="_blank">Bicycle Association</a>.',
        'skills': ['Wordpress', 'PHP', 'UI/UX'],
        'tools': ['Wordpress', 'Adobe-XD', 'HTML', 'Github', 'Sass', 'Webpack', 'Illustrator', 'JavaScript', 'CSS', 'PHP'],
        'testimonial': 'sam',
        'intro': `For a number of years, I have worked alongside the team at <a class="link" href="https://loftdigital.com" target="_blank">Loft Digital</a> to improve, maintain and enhance the <a class="link" href="https://www.bicycleassociation.org.uk/" target="_blank">Bicycle Association</a> website. As it is built on Wordpress a knowledge of PHP, plugin & CMS development was essential to the maintenance and improvement of the site, as well as a keen eye for design.`,
        'solution': `I worked on a number of key challenges that were faced by the Bicycle Association website over the last few years. One such example was providing users with a clear, intuitive dashboard that would allow them to access and manage their accounts & user benefits easily. To address this challenge, I worked closely with the team to redesign the user dashboard, incorporating new features and a more modern, user-friendly design.\n\nIn addition to the dashboard redesign, I was also responsible for designing and developing a number of reusable blocks for a new data dashboard page. This involved creating custom PHP code to integrate the website with various data sources, as well as designing and implementing a range of data visualization tools to help users make sense of the information presented.\n\nBeyond these specific tasks, I also played a general role in developing new pages, fixing bugs, and responding quickly to requests from the Bicycle Association team. Throughout this process, I relied on my extensive knowledge of PHP, plugin & Wordpress development, as well as my keen eye for design and attention to detail.`,
        'outcome': `Overall, my work on the Bicycle Association website was focused on providing a better user experience, improving website functionality, and helping the organisation achieve its goals. Thanks to the close collaboration between myself, the Loft Digital team, and the Bicycle Association, we were able to develop a solution that met and exceeded expectations, resulting in a website that was better equipped to serve the needs of its users and stakeholders.`,
        'case-studies': ['brewbabu', 'techscheme', 'loft-digital']
      },
      'naytiive': {
        'meta_title': 'Naytiive',
        'meta_description': 'Learn how Connor Law designed and built a brand new Squarespace website for Naytiive, a singer/songwriter, in this case study. Hear the challenge, solutions and outcome are developed through expert knowledge of platforms and technologies to deliver a high-quality product to enhance the brand.',
        'image': 'naytiive-mockup',
        'image_extension': '.png',
        'title_1': 'A brand new website for',
        'title_2': 'singer/songwriter Naytiive',
        'details': 'Design & development of a new website - coming soon.',
        'skills': ['UI/UX', 'Adobe-XD', 'Squarespace'],
        'tools': ['Adobe-XD', 'Squarespace', 'CSS', 'Notion', 'JavaScript', 'Photoshop', 'HTML'],
        'testimonial': 'nathan',
        'intro': `Naytiive is a singer/songwriter who needed a website to showcase his music, provide information about upcoming gigs, and sell merchandise. As a freelance web designer, I was hired to design and develop the site.`,
        'solution': `I started by meeting with Naytiive to discuss his vision for the site and his target audience. Using Adobe XD, I created wireframes and mockups to map out the layout and functionality of the site. Naytiive provided feedback on the designs, and we made revisions until we settled on one that we were both happy with.\n\nOnce the design was finalized, I began building the site using Squarespace. Squarespace allowed me to quickly set up the site and provided Naytiive with a CMS to handle updates in the future. I integrated features such as a music player, a gig calendar, and a blog to keep fans up-to-date on Naytiive's activities.\n\nOne of the challenges of the development phase was ensuring that the site was optimised for mobile devices. As more and more people browse the internet on their phones and tablets, it's important that websites are mobile-friendly. I made sure that the site was responsive and that it looked great on any device.\n\nAfter the site was built and launched, I provided training for Naytiive so that he could manage the site himself. I walked him through the Squarespace CMS and showed him how to update the site's content, add new merchandise, and manage his gig calendar. I also provided ongoing support to ensure that the site continued to run smoothly.`,
        'outcome': `The project was a success, and Naytiive now has a professional website to showcase his music and sell merchandise. The use of Adobe XD allowed for an efficient design process, and Squarespace allowed for a quick setup of the site and provided Naytiive with a CMS to handle future updates. The site is mobile-friendly and optimized for a great user experience on any device. The addition of e-commerce functionality in the near future will further enhance the site's capabilities.`,
        'case-studies': ['moss-and-co', 'brewbabu', 'techscheme']
      },
      'moss-and-co': {
        'meta_title': 'Moss & Co',
        'meta_description': 'A case study by Connor Law, the main designer and developer behind the new client platform for Moss & Co. Read on to learn about the development decisions and skills involved in order to deliver a high-quality frontend interface at speed.',
        'image': 'mc-mockup',
        'image_extension': '.webp',
        'title_1': 'Leading frontend development',
        'title_2': 'for a growing UK estate agent',
        'details': 'Fast frontend delivery using Bootstrap for Moss & Co\'s newly designed real estate client portal.',
        'skills': ['HTML', 'Bootstrap', 'Sass', 'JavaScript'],
        'tools': ['CSS', 'Bootstrap', 'PHP', 'Notion', 'JavaScript', 'Sass', 'HTML'],
        'testimonial': 'nick',
        'intro': `With a fresh design in hand, Moss & Co hired me to handle development of the frontend of their client portal. Looking to get the project completed as soon as possible, they leaned on my expertise to advise and deliver the best possible frontend interface.`,
        'solution': `Due to the emphasis on pace of delivery, I initially investigated the options that would allow me to fulfil this desire, eventually opting to utilise the Bootstrap library in order to put together a consistent and high-quality interface at speed.\n\nWith the designs to hand, I was able to build the frontend pages and components - including modals, toasts, accordions, etc - while incorporating dummy PHP data that would later be filled in by the backend developer.`,
        'outcome': `I'm very happy with the quality of work provided, taking immense care to deliver consistent, responsive and brand-aligned templates for the project. Built to be extendable and easy to pick up by any developer, I believe the platform is future-proofed, and miles ahead of where it was before.`,
        'case-studies': ['techscheme', 'loft-digital', 'bicycle-association']
      },
      'beccas-home': {
        'meta_title': 'Becca\'s Home',
        'meta_description': 'TODO',
        'image': 'bh-mockup',
        'image_extension': '.webp',
        'title_1': 'A brand new interface',
        'title_2': 'for a top US furniture brand',
        'details': 'TODO',
        'skills': ['Wordpress', 'JavaScript', 'HTML'],
        'tools': ['CSS', 'Wordpress', 'Figma', 'Notion', 'JavaScript', 'HTML'],
        'testimonial': 'sam',
        'intro': `TODO`,
        'solution': `TODO`,
        'outcome': `TODO`,
        'case-studies': ['techscheme', 'brewbabu', 'bicycle-association']
      },
      'loft-digital': {
        'meta_title': 'Loft Digital',
        'meta_description': 'In this case study by Connor Law, I\'ll dissect how myself and Sam Scarles designed and developed a brand new website for Loft Digital. You\'ll learn a little about how I used my expertise in HTML, CSS, Wordpress and PHP to build custom, reuseable Gutenberg blocks to allow us to rapidly expand the site and its\' contents without extra development cost to the Managing Director.',
        'image': 'loft-mockup',
        'image_extension': '.png',
        'title_1': 'Bespoke Wordpress site',
        'title_2': 'for a digital consultancy',
        'details': 'Working within a team to refine and enhance the company website using custom Wordpress blocks: <a href="https://loftdigital.com" class="link">https://loftdigital.com</a>.',
        'skills': ['Wordpress', 'Sass', 'HTML'],
        'tools': ['CSS', 'Wordpress', 'Adobe-XD', 'JavaScript', 'HTML', 'Sass', 'PHP', 'Github'],
        'testimonial': 'sam',
        'intro': `Over the years that I worked at <a class="link" href="https://loftdigital.com" target="_blank">Loft Digital</a> we evolved our company website a number of times as our services, focuses and targets changed. The final iteration that I worked on was, in my opinion, the best of the best! Working alongside our Frontend Lead Sam Scarles, we were tasked with designing and developing a new interface that would continue to use the same Wordpress CMS system that we had before. A new theme was needed...`,
        'solution': `To address this challenge, I worked closely with Sam to scope out and redesign the required pages and to deliver a more modern, user-friendly design.\n\nOnce the designs were finalised, we were also responsible for developing a number of custom, reusable blocks - as well as custom post types - to use across the site. This allowed us to ensure consistency across the website as well as put together many new pages at speed, as all blocks - once developed - were configured to be editable within the CMS.\n\nOnce the site was built and live, it was also my responsibility to develop new pages or blocks wherever needed, fix bugs, and enhance the site. Throughout this process, I relied on my extensive knowledge of PHP, plugin & Wordpress development, as well as my keen eye for design and attention to detail.`,
        'outcome': `I'm very happy with the way the site turned out - as I said in the introduction, of all our iterations we put together this is my favourite and best work. Thanks to the close collaboration between myself and Sam, we were able to develop a modular site that was adaptable, easy to use, and easy to maintain.`,
        'case-studies': ['cyclescheme', 'techscheme', 'myeyesite']
      },
      'cd-specialist-insurance': {
        'meta_title': 'C&D Specialist Insurance',
        'meta_description': 'TODO',
        'image': 'cd-mockup',
        'image_extension': '.webp',
        'title_1': 'Full design & development journey',
        'title_2': 'for a specialist insurance broker',
        'details': 'TODO',
        'skills': ['Figma', 'Wix', 'UI/UX'],
        'tools': ['CSS', 'Wix', 'JavaScript', 'HTML', 'Figma', 'Notion'],
        'testimonial': 'nick',
        'intro': `TODO`,
        'solution': `TODO`,
        'outcome': `TODO`,
        'case-studies': ['moss-and-co', 'brewbabu', 'loft-digital']
      }
    }
    this.testimonials = {
      'laurence': {
        'image': '../images/testimonials/laurence.jpg',
        'name': 'Laurence Boon',
        'title': 'Product Manager, Cyclescheme',
        'content': `Working with Connor is a dream thanks to the fact that he's laid back and relaxed whilst also
          being hugely talented and able to exceed expectations on every brief.`
      },
      'alison': {
        'image': '../images/testimonials/alison.jpg',
        'name': 'Alison Fitzhugh',
        'title': 'Owner, Brewbabu',
        'content': `Connor has absolutely great customer service and technical skills; his integrity and honesty are impeccable.`
      },
      'nick': {
        'image': '../images/testimonials/nick.jpeg',
        'name': 'Nick Nettleton',
        'title': 'Founder & CEO, Loft Digital',
        'content': `Connor has excellent design and technical skills, and is also an excellent organiser, communicator
          and team player - and very good with clients and customers too. I can't recommend him highly enough.`
      },
      'gio': {
        'image': '../images/testimonials/gio.jpeg',
        'name': 'Giovanni de Flora',
        'title': 'Product Leader, Blackhawk Network',
        'content': `Connor is brilliant because he understands your vision and goes above and beyond to realise it, always
          with creative and imaginative solutions. On top of this Connor is also very professional and approachable. I
          couldn't recommend Connor more!`
      },
      'sam': {
        'image': '../images/testimonials/sam.jpeg',
        'name': 'Sam Scarles',
        'title': 'Lead Front-End Developer, Loft Digital',
        'content': `Connor's dedication to his work is evident in the consistent high-quality results he produces. Connor
          also possesses excellent interpersonal skills. He goes the extra mile to understand needs and exceed their expectations,
          making him a favourite among clients.`
      },
      'nathan': {
        'image': '../images/testimonials/nathan.png',
        'name': 'Nathan Gittens',
        'title': 'AKA Naytiive',
        'content': `QUOTE GOES HERE`
      }
    };
    this.caseStudyTiles = {
      'brewbabu': `
        <div class="case-study-tile-wrap"><a href="/case-studies/brewbabu" class="case-study-tile"><img alt="Case study mockup" src="../images/case-studies/brew.jpg" /><span class="case-study-tile--title">Brewbabu</span><p>Brand new website featuring full e-commerce and CMS functionality.</p><div class="case-study--tags"><div class="case-study--tag">Squarespace</div><div class="case-study--tag">UI/UX</div><div class="case-study--tag">E-commerce</div></div></a></div>
      `,
      'techscheme': `
        <div class="case-study-tile-wrap"> <a href="/case-studies/techscheme" class="case-study-tile"> <img alt="Case study mockup" src="../images/case-studies/ts.jpg"/> <span class="case-study-tile--title"> Techscheme </span> <p> Redesign & modernisation of the UK's leading tech scheme provider. </p><div class="case-study--tags"> <div class="case-study--tag"> UI/UX </div><div class="case-study--tag"> HTML </div><div class="case-study--tag"> CSS </div><div class="case-study--tag"> JavaScript </div></div></a> </div>
      `,
      'cyclescheme': `
        <div class="case-study-tile-wrap"> <a href="/case-studies/cyclescheme" class="case-study-tile"> <img alt="Case study mockup" src="../images/case-studies/cs.jpg"/> <span class="case-study-tile--title"> Cyclescheme </span> <p> Platform development for the UK's largest cycle-to-work provider. </p><div class="case-study--tags"> <div class="case-study--tag"> Angular </div><div class="case-study--tag"> UI/UX </div><div class="case-study--tag"> JavaScript </div></div></a> </div>
      `,
      'moss-and-co': `
        <div class="case-study-tile-wrap"> <a href="/case-studies/moss-and-co" class="case-study-tile"> <img alt="Case study mockup" src="../images/case-studies/mc.webp"/> <span class="case-study-tile--title"> Moss & Co </span> <p> Leading frontend development for a growing UK estate agent. </p><div class="case-study--tags"> <div class="case-study--tag"> JavaScript </div><div class="case-study--tag"> SASS </div><div class="case-study--tag"> Bootstrap </div></div></a> </div>
      `,
      'bicycle-association': `
        <div class="case-study-tile-wrap"> <a href="/case-studies/bicycle-association" class="case-study-tile"> <img alt="Case study mockup" src="../images/case-studies/ba.jpg"/> <span class="case-study-tile--title"> Bicycle Association </span> <p> Continuous design and development for the leading UK cycling body. </p><div class="case-study--tags"> <div class="case-study--tag"> Wordpress </div><div class="case-study--tag"> PHP </div><div class="case-study--tag"> UI/UX </div></div></a> </div>
      `,
      'myeyesite': `
        <div class="case-study-tile-wrap"> <a href="/case-studies/myeyesite" class="case-study-tile"> <img alt="Case study mockup" src="../images/case-studies/mes.jpg"/> <span class="case-study-tile--title"> MyEyeSite </span> <p> A web app for empowering patients with rare eye diseases. </p><div class="case-study--tags"> <div class="case-study--tag"> Angular </div><div class="case-study--tag"> Mobile </div><div class="case-study--tag"> Typescript </div></div></a> </div>
      `,
      'loft-digital': `
        <div class="case-study-tile-wrap"> <a href="/case-studies/loft-digital" class="case-study-tile"> <img alt="Case study mockup" src="../images/case-studies/loft.jpg" /><span class="case-study-tile--title">Loft Digital</span><p>Bespoke Wordpress website for a digital consultancy.</p><div class="case-study--tags"><div class="case-study--tag">Wordpress</div><div class="case-study--tag">Sass</div><div class="case-study--tag">HTML</div></div></a> </div>
      `,
      'naytiive': `
        <div class="case-study-tile-wrap"><a class="case-study-tile"><img alt="Case study mockup" src="../images/case-studies/naytiive.webp" /><span class="case-study-tile--title">Naytiive</span><p>Brand new website for singer/songwriter Naytiive</p><div class="case-study--tags"><div class="case-study--tag">UI/UX</div><div class="case-study--tag">Adobe XD</div><div class="case-study--tag">Squarespace</div></div></a></div>
      `,
      'beccas-home': `
        <div class="case-study-tile-wrap"><a class="case-study-tile"><img alt="Case study mockup" src="../images/case-studies/bh.png" /><span class="case-study-tile--title">Becca's Home</span><p>Implementing a whole new interface for a top US furniture brand.</p><div class="case-study--tags"><div class="case-study--tag">Wordpress</div><div class="case-study--tag">JavaScript</div><div class="case-study--tag">HTML</div></div></a></div>
      `,
      'cd-specialist-insurance': `
        <div class="case-study-tile-wrap"> <a class="case-study-tile"> <img alt="Case study mockup" src="../images/case-studies/cd.webp"/> <span class="case-study-tile--title"> C&D Specialist Insurance </span> <p> Full design & development journey to enhance a specialist insurance site. </p><div class="case-study--tags"> <div class="case-study--tag"> Figma </div><div class="case-study--tag"> Wix </div><div class="case-study--tag"> CSS </div><div class="case-study--tag"> HTML </div></div></a> </div>
      `
    }
    this.metaTitleInput = document.querySelector('[data-id="meta-title"]');
    this.metaDescInput = document.querySelector('[data-id="meta-description"]');
    this.imageInput = document.querySelector('[data-id="image"]');
    this.imageExtensionInput = document.querySelector('[data-id="image-extension"]');
    this.title1Input = document.querySelector('[data-id="title-first"]');
    this.title2Input = document.querySelector('[data-id="title-last"]');
    this.detailsInput = document.querySelector('[data-id="details"]');
    this.skillsInput = document.querySelector('[data-id="skills"]');
    this.toolsInput = document.querySelector('[data-id="tools"]');
    this.introInput = document.querySelector('[data-id="intro"]');
    this.solutionInput = document.querySelector('[data-id="solution"]');
    this.outcomeInput = document.querySelector('[data-id="outcome"]');
    this.testimonialsInput = document.querySelector('[data-id="testimonials"]');
    this.caseStudiesInput = document.querySelector('[data-id="case-studies"]');
    this.output = document.getElementById('output');
  }

  init() {
    document.getElementById('js--case-study-generate').addEventListener('submit', (e) => {
      e.preventDefault();
      this.generate();
    });

    const preFillSelect = document.querySelector('[data-id="pre-fill"]');
    preFillSelect.addEventListener('change', () => {
      this.preSelect(preFillSelect);
    });

    const blocks = document.getElementsByClassName('codeblock');
    for (var i = 0; i < blocks.length; i++) {
      blocks[i].querySelector('.copy-btn').addEventListener('click', (btn) => {
        navigator.clipboard.writeText(btn.target.parentNode.querySelector('input').value);
        btn.target.classList.add('copy-btn-copied');
        btn.target.classList.add('disabled');
        btn.target.innerHTML = `
          Copied
          <svg style="margin-left:8px;" width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" fill="#fff"><path d="M21 6.285l-11.16 12.733-6.84-6.018 1.319-1.49 5.341 4.686 9.865-11.196 1.475 1.285z"/></svg>
        `;
        btn.target.classList.remove('animate');
        btn.target.classList.add('animate');
        setTimeout(function(){
          btn.target.classList.remove('animate');
        },700);

        btn.target.setAttribute('disabled', 'disabled');

        setTimeout(() => {
          btn.target.classList.remove('copy-btn-copied');
          btn.target.classList.remove('disabled');
          btn.target.innerHTML = 'Copy';
          btn.target.removeAttribute('disabled');
        }, 2000);
      });
      this.highlight(blocks[i], '#55b6c1', new RegExp('echo', 'g'));
      this.highlight(blocks[i], '#be4f46', new RegExp('&lt;\\?php', 'g'));
      this.highlight(blocks[i], '#be4f46', new RegExp('\\?&gt;', 'g'));
      this.highlight(blocks[i], '#e06b75', /\$[A-Za-z0-9_]+/);
      this.highlight(blocks[i], '#e5bf7b', new RegExp('log', 'g'));
      this.highlight(blocks[i], '#e5bf7b', /\@[A-Za-z0-9_]+/);
      this.highlight(blocks[i], '#be4f46', /&lt;[A-Za-z0-9_]+/);
      this.highlight(blocks[i], '#be4f46', /&lt;\/[A-Za-z0-9_]+&gt;/);
    }
  }

  preSelect(select) {
    document.querySelectorAll('input[type=checkbox]').forEach(el => el.checked = false);
    const val = this.preFillOptions[select.value];
    this.metaTitleInput.value = val['meta_title'];
    this.metaDescInput.value = val['meta_description'];
    this.imageInput.value = val['image'];
    this.imageExtensionInput.value = val['image_extension'];
    this.title1Input.value = val['title_1'];
    this.title2Input.value = val['title_2'];
    this.detailsInput.value = val['details'];
    this.introInput.value = val['intro'];
    this.solutionInput.value = val['solution'];
    this.outcomeInput.value = val['outcome'];
    val['skills'].forEach(item => {
      this.skillsInput.elements[`skills-${item}`].checked = true;
    });
    val['tools'].forEach(item => {
      this.toolsInput.elements[`tools-${item}`].checked = true;
    });
    val['case-studies'].forEach(item => {
      this.caseStudiesInput.elements[item].checked = true;
    });
    this.testimonialsInput.elements[val['testimonial']].checked = true;
  }

  highlight(block, color, regex) {
    let code = block.querySelector('code');
    const match = code.innerHTML.match(regex);
    if (match) {
      const newCode = code.innerHTML.replace(regex, `<span style="color:${color}">${match[0]}</span>`);
      code.innerHTML = newCode;
    }
  }

  escapeHtml(unsafe) {
    return unsafe
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;")
      .replace(/'/g, "&#039;");
  }

  getSkills() {
    let html = [];
    let checkboxes = this.skillsInput.elements;
    Array.from(checkboxes).forEach(elem => {
      if (elem.checked) {
        html.push(`
          <div class="case-study--tag">
            ${elem.id.split('skills-')[1]}
          </div>
        `);
      }
    });
    const shuffledArray = html.sort((a, b) => 0.5 - Math.random());
    return shuffledArray.join('');
  }

  getTools() {
    let html = [];
    let checkboxes = this.toolsInput.elements;
    Array.from(checkboxes).forEach(elem => {
      if (elem.checked) {
        const tool = elem.id.split('tools-')[1].replace(/-/g, ' ');
        const toolImg = elem.id.split('tools-')[1];
        html.push(`
          <img alt="${tool} logo" class="tooltip" data-tooltip="${tool}" src="../images/logos/${toolImg.toLowerCase()}.svg" height="32" width="32">
        `);
      }
    });
    const shuffledArray = html.sort((a, b) => 0.5 - Math.random());
    return shuffledArray.join('');
  }
  
  buildTestimonial() {
    const testimonial = this.testimonials[document.querySelector('input[name="testimonial"]:checked').id];
    let html = `
    <div class="callout testimonial left-aligned">
      <div class="callout--inner">
        <p>
          "${testimonial.content}"
        </p>
        <div class="testimonial-quoter">
          <img alt="${testimonial.name}" src="${testimonial.image}" />
          <div>
            <div>
              <strong>${testimonial.name}</strong>
            </div>
            <div>
              ${testimonial.title}
            </div>
          </div>
        </div>
      </div>
    </div>
    `;
    return html;
  }
  
  buildFeaturedCaseStudies() {
    let html = [];
    let checkboxes = this.caseStudiesInput.elements;
    Array.from(checkboxes).forEach(elem => {
      if (elem.checked) {
        html.push(`
          ${this.caseStudyTiles[elem.id]}
        `);
      }
    });
  
    const shuffledArray = html.sort((a, b) => 0.5 - Math.random());
    return shuffledArray.join('');
  }
  
  generate() {
    let html = `<!doctype HTML>
    <html lang="en">
        <head>
          <meta charset="utf-8">
          <title>Connor Law - Case Study - ${this.metaTitleInput.value}</title>
          <meta name="author" content="Connor Law">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <meta name="description" content="${this.metaDescInput.value}">
          <link rel="apple-touch-icon" href="../images/logos/logo.svg" />
          <link rel="stylesheet" href="../style.css">
          <link rel="icon" href="../images/logos/logo.svg">
          <link rel="preconnect" href="https://fonts.googleapis.com">
          <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
          <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
      </head>
    
      <body>
        <nav class="nav">
          <div class="nav__inner">
            <a href="/"><img alt="Connor Law's logo" src="../images/logos/logo.svg" /></a>
            <div class="nav__links">
              <ul>
                <li>
                  <a class="nav__mob-item" href="/#about">
                    About
                  </a>
                </li>
                <li>
                  <a class="nav__mob-item" href="/#services">
                    Services
                  </a>
                </li>
                <li>
                  <a class="nav__mob-item" href="/case-studies">
                    Case studies
                  </a>
                </li>
                <li>
                  <a class="nav__mob-item" href="/#contact">
                    Contact
                  </a>
                </li>
                <li>
                  <div class="nav__links--btn"></div>
                </li>
              </ul>
            </div>
            <div class="nav__mob-btn">
              <span></span>
              <span></span>
            </div>
            <div class="nav__mob">
              <div class="nav__mob-close">
                <span></span>
                <span></span>
              </div>
              <ul>
                <li>
                  <a class="nav__mob-item" href="/#about">
                    About
                  </a>
                </li>
                <li>
                  <a class="nav__mob-item" href="/#services">
                    Services
                  </a>
                </li>
                <li>
                  <a class="nav__mob-item" href="/case-studies">
                    Case studies
                  </a>
                </li>
                <li>
                  <a class="nav__mob-item" href="/#contact">
                    Contact
                  </a>
                </li>
                <li>
                    <div class="nav__links--btn"></div>
                </li>
              </ul>
            </div>
          </div>
        </nav>
    
        <section class="section">
          <div class="section__inner">
            <p class="section__inner--subtitle section--center">Case study</p>
            <h1 class="section__inner--title section--center">
              ${this.title1Input.value}<br class="desktop-only" />
              ${this.title2Input.value}
            </h1>
            <img alt="Case study mockups" class="case-study--hero" src="../images/case-studies/${this.imageInput.value}${this.imageExtensionInput.value}" />
            <div class="case-study">
              <div class="case-study--main">
                <h2>
                  Introduction
                </h2>
                <p>
                  ${this.introInput.value.replace(/\n/g, '<br>\n')}
                </p>
                <br/>
                <h2>
                  Solution
                </h2>
                <p>
                  ${this.solutionInput.value.replace(/\n/g, '<br>\n')}
                </p>
                <br/>
                <h2>
                  Outcome
                </h2>
                <p>
                  ${this.outcomeInput.value.replace(/\n/g, '<br>\n')}
                </p>
              </div>
              <div class="case-study--info case-study--info-cover" onclick="this.classList.remove('case-study--info-cover')">
                <span class="case-study-tile--title">
                  Details
                </span>
                <p>
                ${this.detailsInput.value}
                </p>
                <br />
                <span class="case-study-tile--title">
                  Skills
                </span>
                <div class="case-study--tags">
                  ${this.getSkills()}
                </div>
                <br />
                <span class="case-study-tile--title">
                  Tools
                </span>
                <div class="case-study--tools">
                  ${this.getTools()}
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="section">
          <div class="section__inner section__inner--flex">
            ${this.buildTestimonial()}
          </div>
        </section>
        <section id="case-studies" class="section">
          <div class="section__inner">
            <p class="section__inner--subtitle">Case studies</p>
            <h1 class="section__inner--title">More of my latest work</h1>
            <div class="case-study-tiles">
              ${this.buildFeaturedCaseStudies()}
            </div>
            <br/>
            <a class="button" href="/case-studies">
              Show all
            </a>
            <div id="contact" class="callout left-aligned">
              <div class="callout--inner">
                <h1 class="section__inner--title">
                    Let's grow your business,<br/> together
                </h1>
                <div class="callout--inner-content">
                  <div>
                    Whether you're after a new design, fresh development or just have a
                    great business idea you want to get the ball rolling on, I'm here to help.
                    I'm just a click away. Let's get started, today.
                  </div>
                  <a
                    class="button"
                    href="mailto:connorlaw96@hotmail.com?subject=Website%20enquiry">
                    Get started
                  </a>
                </div>
              </div>
            </div>
          </div>
        </section>
        <footer>
          <section class="section">
            <div class="section__inner">
              <div class="socials">
                  <a target="_blank" href="https://www.upwork.com/freelancers/connorlaw" rel="noopener noreferrer">
                      <img height="32" width="32" alt="Upwork logo" class="social" src="../images/logos/logo_upwork.svg">
                  </a>
                  <a target="_blank" href="https://uk.linkedin.com/in/connor-law-77b176159" rel="noopener noreferrer">
                      <img height="32" width="32" alt="Linkedin logo" class="social" src="../images/logos/logo_linkedin.svg" alt="Linkedin logo">
                  </a>
              </div>
              <p>&copy; 2023 &middot; Connor Law</p>
            </div>
          </section>
        </footer>
        <div id="cookie-banner" class="cookie-banner callout">
          <div class="callout--inner">
            <h3>Hey! Are you cool with cookies?</h3>
            <div>I'm using cookies to track how many people are visiting my site. That's all, I promise.</div>
            <div class="right-aligned">
              <a
                class="button button--secondary"
                data-cookie-consent="false"
                href="#"
                style="margin-right: 4px;">
                I'd rather you didn't
              </a>
              <a
                class="button"
                data-cookie-consent="true"
                href="#">
                Go for it!
              </a>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="../script.js"></script>
      </body>
    </html>`;
    this.output.innerText = html;
    this.output.style.display = 'block';
    document.getElementById('output-val').value = html;
    window.scrollTo({top: document.getElementById('output').offsetTop,left: 0,behavior: 'smooth'});
  }
}

export default CaseStudyGenerator;